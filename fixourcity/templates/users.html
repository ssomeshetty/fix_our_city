{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Page</title>
    <script src="{% static 'js/issues.js' %}"></script>
</head>
<body>
    <h1>Hello {{ user.username }},</h1>

    <!-- Button to create a new issue -->
    <a href="{% url 'create_issue' %}"><button>Create New Issue</button></a>

    <!-- List all issues -->
    <h2>Issues</h2>
    <ul id="issueList">
        {% for issue in issues %}
            <li>
                <strong>{{ issue.description }}</strong>
                <p>Upvotes: <span id="upvote-count-{{ issue.id }}">{{ issue.upvotes }}</span></p>
                <a href="{% url 'issue_detail' issue.id %}">View Details</a>
                <button onclick="upvoteIssue({{ issue.id }})">Upvote</button>
            </li>
        {% endfor %}
    </ul>
</body>
</html>
